<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="{{url_for('static', filename='css/styles.css')}}" rel="stylesheet">
</head>
<body>
    <div class="logo">
        <img src="{{url_for('static', filename='logo/omochawhite.png')}}" class="img-fluid" style="flex-direction: column; display: flex; margin-top: -190px;">
        <!-- <p class="login-text">Sign Up</p> -->
    </div>
    {% extends 'layout.html' %}
    {% block content %}
    <div class="form-box">
        <div class="header-text">
            Sign Up
        </div>
        <div class="container">
            {% include '_messages.html' %}
            {% from "_formhelpers.html" import render_field %}
            <form action="/register" method="POST" enctype="multipart/form-data">
                {{ form.csrf_token }}
            <div>
                {{ render_field(form.name) }}
                {{ render_field(form.username) }}
                {{ render_field(form.email) }}
                {{ render_field(form.password) }}
                {{ render_field(form.confirm) }}
            <style>
                hr{
                    border: 0.2px solid whitesmoke;
                    margin: 10px 5px;
                    margin-bottom: 5px;
                    margin-top: 8px;
                }
            </style>

            <hr>
            <input type="submit" class="btn-nice" value="Sign Up" style="padding-top: 8px; margin-bottom: 8px; margin-top: 8px; padding: 0 12px;">
            </div>
            <div class="sideline" style="padding-top: 3px;">
                OR
            </div>
            <br>
                <center>
                <p style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Already have an account? <a href="{{ url_for('login') }}" style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">Sign In</a></p>   
                </center>
            </form>
        </div>
    </div>
    <div id="video-container">
        <!-- <img src="{{url_for('static', filename='bgvid/green.gif')}}" height="100%" width="100%" loop> -->
        <video id="background-video" src="{{url_for('static', filename='bgvid/green.mp4')}}" loop autoplay muted></video>
    </div>
</body>
</html>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        // Function to check for flashed messages and update form-box size
        function updateFormBoxSize() {
            if ($(".flash-container").children().length > 0) {
                // Flash message is present, adjust form-box size
                $(".form-box").css("height", "400px"); // Or any other height you want
                $(".form-box").css("width", "initials");
            } else {
                // No flash message, restore form-box size
                $(".form-box").css("height", "670px");
                $(".form-box").css("width", "520px");
            }
        }

        // Initial check and update
        updateFormBoxSize();

        // Monitor changes to the flash message container
        $(".flash-container").on("DOMSubtreeModified", updateFormBoxSize);
    });
</script>
{% endblock content %}
